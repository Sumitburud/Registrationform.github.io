<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <title>Registration form</title>
    <script src="form.js"></script>
  </head>
  <body style="background-color: #e8f9f9">
    <div class="heading">
      <h2>Register Here</h2>
    </div>
    <div class="container">
      <div class="container-fluid">
        <div class="container2">
          <form
            action="https://sheetdb.io/api/v1/swxnzrih35srf"
            onsubmit="return validate()"
            method="POST"
            id="sheetdb-form"
          >
            <div class="name">
              <label for="">Username</label>
              <span style="color: red">*</span>
              <input
                type="text"
                name="data[Username]"
                id="uname"
                class="form-control form-control-sm"
              />
            </div>
            <span id="msg1" style="color: red"></span>

            <br />
            <div class="email">
              <label for="uemail">Email</label>
              <span style="color: red">*</span>
              <input
                type="email"
                name="data[Email]"
                id="uemail"
                class="form-control form-control-sm"
              />
            </div>
            <span id="msg2" style="color: red"></span>

            <br />

            <div class="phone">
              <label for="uphone">Phone Number</label>
              <span style="color: red">*</span>
              <input
                type="text"
                name="data[Phone]"
                id="uphone"
                class="form-control form-control-sm"
              />
            </div>
            <span id="msg3" style="color: red"></span>

            <br />

            <div class="password">
              <label for="">Password</label>
              <span style="color: red">*</span>
              <input
                type="password"
                name="data[Password]"
                id="upass"
                class="form-control form-control-sm"
              />
            </div>
            <span id="msg4" style="color: red"></span>
            <br />

            <div class="confirmpassword">
              <label for="">Confirm Password</label>
              <span style="color: red">*</span>
              <input
                type="password"
                name="data[ConfirmPassword]"
                id="ucpass"
                class="form-control form-control-sm"
              />
            </div>
            <span id="msg5" style="color: red"></span>
            <br />
            <div class="button">
              <input type="submit" class="btn btn-primary" />
            </div>

            <script>
              var form = document.getElementById("sheetdb-form");
              form.addEventListener("submit", (e) => {
                e.preventDefault();
                if (validate()) {
                  fetch(form.action, {
                    method: "POST",
                    body: new FormData(document.getElementById("sheetdb-form")),
                  }).then((html) => {
                    window.open("msg.html", "_blank");
                  });
                }
              });
            </script>
          </form>
        </div>
      </div>
    </div>

    <div class="note">
      <p>
        <span class="tag">Note :</span><br />
        Username should contain only alphabets(A-Z/a-z) <br />
        Password should contain at least one Uppercase letter(A-Z)
        <br />
        Password should contain at least one lowercase letter(a-z) <br />
        Password should contain at least one Special chrecter <br />
        Password should contain at least one digit <br />
      </p>
    </div>
  </body>
</html>
